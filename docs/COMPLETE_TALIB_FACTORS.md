# ï¿½ å®Œæ•´çš„ TA-Lib å› å­åº“ - 98ä¸ªä¸“ä¸šæŠ€æœ¯æŒ‡æ ‡

åŸºäºå¼ºå¤§çš„ TA-Lib æŠ€æœ¯åˆ†æåº“ï¼Œæˆ‘ä»¬ä¸ºé‡åŒ–å›æµ‹æ¡†æ¶æ„å»ºäº†ä¸€ä¸ªåŒ…å« **98 ä¸ªä¸“ä¸šæŠ€æœ¯æŒ‡æ ‡å› å­** çš„å®Œæ•´å› å­åº“ï¼

## ğŸ¯ å› å­åº“æ¦‚è§ˆ

| åˆ†ç±» | å› å­æ•°é‡ | ä»£è¡¨å› å­ | æˆåŠŸç‡ |
|------|----------|----------|--------|
| **ä»·æ ¼å› å­** | 6ä¸ª | æ”¶ç›Šç‡ã€å¯¹æ•°æ”¶ç›Šç‡ã€ä»·æ ¼ç›¸å¯¹ä½ç½® | 100% |
| **é‡å ç ”ç©¶** | 12ä¸ª | SMAã€EMAã€TEMAã€KAMAã€SAR | 100% |
| **åŠ¨é‡æŒ‡æ ‡** | 21ä¸ª | RSIã€MACDã€ADXã€CMOã€ROC | 100% |
| **æˆäº¤é‡æŒ‡æ ‡** | 5ä¸ª | OBVã€Accumulationã€Price Volume | 100% |  
| **æ³¢åŠ¨ç‡æŒ‡æ ‡** | 15ä¸ª | ATRã€å¸ƒæ—å¸¦ã€NATRã€TRANGE | 100% |
| **ä»·æ ¼å˜æ¢** | 12ä¸ª | WMAã€MIDPRICEã€TYPPRICE | 100% |
| **ç»Ÿè®¡å‡½æ•°** | 9ä¸ª | çº¿æ€§å›å½’ã€æ ‡å‡†å·®ã€æ–¹å·®ã€ç›¸å…³æ€§ | 100% |
| **æ•°å­¦å˜æ¢** | 9ä¸ª | SINã€COSã€LOGã€SQRTã€TANH | 100% |
| **Kçº¿å½¢æ€** | 9ä¸ª | åå­—æ˜Ÿã€é”¤å¤´ã€åæ²¡ã€å¯æ˜æ˜Ÿ | 100% |

> **æ€»æˆåŠŸç‡ï¼š98/98 = 100%** âœ…

## ğŸš€ æ ¸å¿ƒå› å­è¯¦è§£

### ğŸ“ˆ ä»·æ ¼å› å­ (6ä¸ª)
```yaml
mom20:           # 20æ—¥åŠ¨é‡å› å­
shortrev5:       # 5æ—¥çŸ­æœŸåè½¬å› å­  
vol20:           # 20æ—¥æ”¶ç›Šç‡æ ‡å‡†å·®
turn_mean20:     # 20æ—¥æ¢æ‰‹ç‡å‡å€¼
amihud20:        # AmihudæµåŠ¨æ€§å› å­
log_return:      # å¯¹æ•°æ”¶ç›Šç‡
```

### ğŸ”„ é‡å ç ”ç©¶æŒ‡æ ‡ (12ä¸ª)
```yaml
sma20:           # ç®€å•ç§»åŠ¨å¹³å‡çº¿
ema20:           # æŒ‡æ•°ç§»åŠ¨å¹³å‡çº¿
tema20:          # ä¸‰é‡æŒ‡æ•°ç§»åŠ¨å¹³å‡çº¿
kama20:          # Kaufmanè‡ªé€‚åº”ç§»åŠ¨å¹³å‡çº¿
sar:             # æŠ›ç‰©çº¿SARåœæŸè½¬å‘æŒ‡æ ‡
wma20:           # åŠ æƒç§»åŠ¨å¹³å‡çº¿
trima20:         # ä¸‰è§’ç§»åŠ¨å¹³å‡çº¿
mama:            # MESAè‡ªé€‚åº”ç§»åŠ¨å¹³å‡çº¿
t3_20:           # T3ç§»åŠ¨å¹³å‡çº¿
dema20:          # åŒæŒ‡æ•°ç§»åŠ¨å¹³å‡çº¿
midpoint20:      # ä¸­ç‚¹
midprice20:      # ä¸­ä½ä»·æ ¼
```

### ğŸ“Š åŠ¨é‡æŒ‡æ ‡ (21ä¸ª)
```yaml
rsi14:           # RSIç›¸å¯¹å¼ºå¼±æŒ‡æ ‡
macd_histogram:  # MACDæŸ±çŠ¶å›¾å› å­
adx14:           # å¹³å‡è¶‹å‘æŒ‡æ ‡
williams_r:      # å¨å»‰æŒ‡æ ‡
stoch_k:         # éšæœºæŒ‡æ ‡Kå€¼
cci14:           # å•†å“é€šé“æŒ‡æ ‡
apo_12_26:       # ç»å¯¹ä»·æ ¼æŒ¯è¡å™¨
aroon14:         # AroonæŒ‡æ ‡
aroonosc14:      # AroonæŒ¯è¡å™¨
bop:             # åŠ›é‡å¹³è¡¡æŒ‡æ ‡
cmo14:           # ChandeåŠ¨é‡æŒ¯è¡å™¨
dx14:            # æ–¹å‘æ€§è¿åŠ¨æŒ‡æ ‡
mfi14:           # èµ„é‡‘æµé‡æŒ‡æ ‡
mom10:           # åŠ¨é‡æŒ‡æ ‡
ppo_12_26:       # ä»·æ ¼æŒ¯è¡å™¨ç™¾åˆ†æ¯”
roc10:           # å˜åŒ–ç‡
rocp10:          # å˜åŒ–ç‡ç™¾åˆ†æ¯”
rocr10:          # å˜åŒ–ç‡æ¯”ç‡
rocr100_10:      # å˜åŒ–ç‡æ¯”ç‡100
stochf14:        # å¿«é€ŸéšæœºæŒ‡æ ‡
trix14:          # TRIXæŒ‡æ ‡
```

### ğŸ¯ Kçº¿å½¢æ€æŒ‡æ ‡ (9ä¸ª)
```yaml
cdl_doji:                # åå­—æ˜Ÿå½¢æ€
cdl_hammer:              # é”¤å¤´å½¢æ€
cdl_engulfing:           # åæ²¡å½¢æ€
cdl_morning_star:        # å¯æ˜æ˜Ÿå½¢æ€
cdl_evening_star:        # é»„æ˜æ˜Ÿå½¢æ€
cdl_shooting_star:       # æµæ˜Ÿå½¢æ€
cdl_hanging_man:         # ä¸ŠåŠçº¿å½¢æ€
cdl_three_black_crows:   # ä¸‰åªä¹Œé¸¦å½¢æ€
cdl_three_white_soldiers: # ä¸‰ä¸ªç™½æ­¦å£«å½¢æ€
```

## ğŸ”§ å¿«é€Ÿä½¿ç”¨

### 1. å¯ç”¨ç‰¹å®šå› å­ç»„åˆ

```yaml
# config/factors.yml - è¶‹åŠ¿è·Ÿè¸ªç­–ç•¥
factors:
  ema20: {enabled: true}
  kama20: {enabled: true}
  aroon14: {enabled: true}
  adx14: {enabled: true}
  atr14: {enabled: true}
```

### 2. å‚æ•°è°ƒä¼˜

```yaml
# RSIå‚æ•°è°ƒä¼˜
rsi14:
  enabled: true
  window: 21        # ä»é»˜è®¤14è°ƒæ•´åˆ°21

# SARå‚æ•°è°ƒä¼˜  
sar:
  enabled: true
  acceleration: 0.03  # åŠ é€Ÿå› å­
  maximum: 0.3       # æœ€å¤§å€¼
```

### 3. æ‰¹é‡è®¡ç®—

```python
from engine.factor_engine import FactorEngine

engine = FactorEngine()

# è®¡ç®—æ‰€æœ‰å¯ç”¨çš„å› å­
all_factors = engine.compute_all_factors(price_data)

# æˆ–è®¡ç®—ç‰¹å®šå› å­
rsi_factor = engine.compute_factor('rsi14', price_data)
```

## ğŸ“ ä½¿ç”¨å»ºè®®

1. **æ–°æ‰‹å»ºè®®**ï¼šä»æ ¸å¿ƒå› å­å¼€å§‹ï¼ˆRSIã€MACDã€å¸ƒæ—å¸¦ï¼‰
2. **æ€§èƒ½ä¼˜åŒ–**ï¼šæ ¹æ®ç­–ç•¥éœ€æ±‚é€‰æ‹©æ€§å¯ç”¨å› å­
3. **å‚æ•°è°ƒä¼˜**ï¼šæ ¹æ®å¸‚åœºç‰¹æ€§è°ƒæ•´å› å­å‚æ•°
4. **ç»„åˆä½¿ç”¨**ï¼šç»“åˆä¸åŒç±»åˆ«å› å­æé«˜ç­–ç•¥ç¨³å®šæ€§

è¯¦ç»†ä½¿ç”¨æ–¹æ³•è¯·å‚è€ƒ [å› å­ä½¿ç”¨æŒ‡å—](FACTOR_USAGE_GUIDE.md)

### **ğŸ“ˆ æ³¢åŠ¨ç‡æŒ‡æ ‡ (3ä¸ª)**
- `atr14`: å¹³å‡çœŸå®æ³¢å¹… ATR (è¦†ç›–ç‡: 83%)
- `natr14`: æ ‡å‡†åŒ–å¹³å‡çœŸå®æ³¢å¹… NATR (è¦†ç›–ç‡: 83%)
- `trange`: çœŸå®æ³¢å¹… TRANGE (è¦†ç›–ç‡: 88%)

### **ğŸ’° ä»·æ ¼å˜æ¢æŒ‡æ ‡ (4ä¸ª)**
- `avgprice`: å¹³å‡ä»·æ ¼ AVGPRICE (è¦†ç›–ç‡: 89%)
- `medprice`: ä¸­ä½ä»·æ ¼ MEDPRICE (è¦†ç›–ç‡: 89%)
- `typprice`: å…¸å‹ä»·æ ¼ TYPPRICE (è¦†ç›–ç‡: 89%)
- `wclprice`: åŠ æƒæ”¶ç›˜ä»·æ ¼ WCLPRICE (è¦†ç›–ç‡: 89%)

### **ğŸ“Š ç»Ÿè®¡å‡½æ•° (6ä¸ª)**
- `beta5`: Betaç³»æ•° (è¦†ç›–ç‡: 87%)
- `correl5`: çš®å°”é€Šç›¸å…³ç³»æ•° (è¦†ç›–ç‡: 87%)
- `linearreg14`: çº¿æ€§å›å½’ (è¦†ç›–ç‡: 84%)
- `stddev20`: æ ‡å‡†å·® (è¦†ç›–ç‡: 82%)
- `tsf14`: æ—¶é—´åºåˆ—é¢„æµ‹ (è¦†ç›–ç‡: 84%)
- `var20`: æ–¹å·®

## ğŸ¨ **ç­–ç•¥åº”ç”¨å»ºè®®**

### **ğŸ¥‡ é«˜é¢‘ç­–ç•¥å› å­ç»„åˆ**
```yaml
# é€‚ç”¨äºçŸ­æœŸäº¤æ˜“ç­–ç•¥
factors:
  williams_r: {enabled: true}
  bop: {enabled: true}
  sar: {enabled: true}
  trange: {enabled: true}
  avgprice: {enabled: true}
```

### **ğŸ¥ˆ è¶‹åŠ¿è·Ÿè¸ªå› å­ç»„åˆ**
```yaml
# é€‚ç”¨äºä¸­é•¿æœŸè¶‹åŠ¿ç­–ç•¥
factors:
  ema20: {enabled: true}
  kama20: {enabled: true}
  aroon14: {enabled: true}
  adx14: {enabled: true}
  atr14: {enabled: true}
```

### **ğŸ¥‰ å‡å€¼å›å½’å› å­ç»„åˆ**
```yaml
# é€‚ç”¨äºå‡å€¼å›å½’ç­–ç•¥
factors:
  rsi14: {enabled: true}
  bollinger_position: {enabled: true}
  mfi14: {enabled: true}
  cmo14: {enabled: true}
  correl5: {enabled: true}
```

### **ğŸ† ç»¼åˆå¤šå› å­ç­–ç•¥**
```yaml
# å¹³è¡¡å„ç±»æŒ‡æ ‡çš„ç»¼åˆç­–ç•¥
factors:
  # è¶‹åŠ¿æŒ‡æ ‡
  ema20: {enabled: true}
  sar: {enabled: true}
  
  # åŠ¨é‡æŒ‡æ ‡
  rsi14: {enabled: true}
  apo_12_26: {enabled: true}
  
  # æˆäº¤é‡æŒ‡æ ‡
  ad_line: {enabled: true}
  obv_signal: {enabled: true}
  
  # æ³¢åŠ¨ç‡æŒ‡æ ‡
  atr14: {enabled: true}
  
  # ç»Ÿè®¡æŒ‡æ ‡
  beta5: {enabled: true}
```

## ğŸš€ **ä½¿ç”¨æ–¹æ³•**

### **1. å¯ç”¨æ‰€æœ‰å› å­**
```bash
# è®¡ç®—æ‰€æœ‰48ä¸ªå› å­
python pipelines/run_factors.py
```

### **2. é€‰æ‹©æ€§å¯ç”¨**
åœ¨ `config/factors.yml` ä¸­è®¾ç½® `enabled: false` æ¥ç¦ç”¨ä¸éœ€è¦çš„å› å­ï¼š

```yaml
factors:
  # ä¿æŒå¯ç”¨
  rsi14:
    enabled: true
    
  # ç¦ç”¨æ­¤å› å­
  tema20:
    enabled: false
```

### **3. å‚æ•°è°ƒä¼˜**
æ¯ä¸ªå› å­éƒ½æ”¯æŒå‚æ•°è‡ªå®šä¹‰ï¼š

```yaml
# RSI å‚æ•°è°ƒä¼˜ç¤ºä¾‹
rsi14:
  enabled: true
  window: 21        # ä»14è°ƒæ•´åˆ°21
  
# SAR å‚æ•°è°ƒä¼˜ç¤ºä¾‹
sar:
  enabled: true
  acceleration: 0.03  # ä»0.02è°ƒæ•´åˆ°0.03
  maximum: 0.3       # ä»0.2è°ƒæ•´åˆ°0.3
```

## ğŸ“ˆ **æ€§èƒ½ç›‘æ§**

### **è¿è¡Œå®Œæ•´åˆ†ææµç¨‹**
```bash
# 1. è®¡ç®—æ‰€æœ‰å› å­
python pipelines/run_factors.py

# 2. ICåˆ†æ
python pipelines/run_ic.py

# 3. å› å­èåˆ
python pipelines/run_fusion.py
```

### **æµ‹è¯•ç‰¹å®šå› å­ç»„**
```bash
# æµ‹è¯•æ‰©å……åçš„å› å­åº“
python test_expanded_factors.py
```

## ğŸ‰ **æ€»ç»“**

ç°åœ¨æ‚¨æ‹¥æœ‰äº†ä¸€ä¸ªåŠŸèƒ½å®Œå¤‡çš„ **48ä¸ª TA-Lib æŠ€æœ¯æŒ‡æ ‡å› å­åº“**ï¼Œè¦†ç›–äº†ï¼š

- âœ… **8å¤§ç±»åˆ«**çš„ä¸“ä¸šæŠ€æœ¯æŒ‡æ ‡
- âœ… **80%+å¹³å‡è¦†ç›–ç‡**çš„é«˜è´¨é‡å› å­
- âœ… **å®Œå…¨é…ç½®åŒ–**çš„å‚æ•°è°ƒä¼˜æ”¯æŒ
- âœ… **æ ‡å‡†åŒ–å¤„ç†**çš„ç»Ÿä¸€æ•°æ®æµç¨‹
- âœ… **å¤šç­–ç•¥é€‚é…**çš„çµæ´»ç»„åˆæ–¹æ¡ˆ

è¿™ä¸ªå› å­åº“ä¸ºæ‚¨æä¾›äº†æ„å»ºå„ç§é‡åŒ–ç­–ç•¥æ‰€éœ€çš„ä¸°å¯Œå·¥å…·ï¼Œæ— è®ºæ˜¯çŸ­æœŸäº¤æ˜“ã€è¶‹åŠ¿è·Ÿè¸ªã€å‡å€¼å›å½’è¿˜æ˜¯å¤šå› å­ç»¼åˆç­–ç•¥ï¼Œéƒ½èƒ½æ‰¾åˆ°åˆé€‚çš„å› å­ç»„åˆï¼

**ğŸŠ æ‚¨çš„é‡åŒ–å›æµ‹ç³»ç»Ÿç°åœ¨å…·å¤‡äº†ä¸“ä¸šçº§çš„æŠ€æœ¯æŒ‡æ ‡åˆ†æèƒ½åŠ›ï¼**
