# ETF/æŒ‡æ•°å› å­è®¡ç®—ä¸å›æµ‹é…ç½®æ–‡ä»¶

# æ•°æ®é…ç½®
data:
  start_date: "20230101"
  end_date: "20250722"
  universe_file: "config/universe_local.csv"  # åŸå§‹universeæ–‡ä»¶ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨ç­›é€‰é«˜è´¨é‡æ ‡çš„
  
# æ•°æ®è·¯å¾„
paths:
  processed_data: "data/processed"
  factors_output: "reports/factors"
  ic_output: "reports"
  fusion_output: "reports"

# å› å­é…ç½® - é€‚ç”¨äºETF/æŒ‡æ•°
factors:
  # åŠ¨é‡ç±»å› å­
  mom20:
    enabled: true
    window: 20
    description: "20æ—¥åŠ¨é‡å› å­"
    
  shortrev5:
    enabled: true
    window: 5
    description: "5æ—¥çŸ­æœŸåè½¬å› å­"
    
  # æ³¢åŠ¨ç‡å› å­
  vol20:
    enabled: true
    window: 20
    description: "20æ—¥æ”¶ç›Šç‡æ ‡å‡†å·®"
    
  # æµåŠ¨æ€§å› å­
  turn_mean20:
    enabled: true
    window: 20
    description: "20æ—¥æ¢æ‰‹ç‡å‡å€¼"
    
  amihud20:
    enabled: true
    window: 20
    description: "AmihudæµåŠ¨æ€§å› å­"
    
  # æŠ€æœ¯æŒ‡æ ‡å› å­
  macd_signal:
    enabled: true
    fast: 12
    slow: 26
    signal: 9
    description: "MACDä¿¡å·å› å­"
    


# æ•°æ®é¢„å¤„ç†é…ç½®
preprocessing:
  winsorize:
    enabled: true
    quantiles: [0.01, 0.99]
  zscore:
    enabled: true
  forward_fill:
    enabled: true          # ğŸ”§ é‡æ–°å¯ç”¨å‰å‘å¡«å……
    max_days: 15           # å¢åŠ åˆ°15å¤©ï¼Œæ”¹å–„è¦†ç›–ç‡

# ICåˆ†æé…ç½®
ic:
  window: 60
  min_samples: 2  # é™ä½åˆ°2ä¸ªæ ·æœ¬ï¼Œæé«˜ICè®¡ç®—çš„æ•°æ®åˆ©ç”¨ç‡
  forward_return_days: 1
  correlation_method: "spearman"
  
# å› å­èåˆé…ç½®
fusion:
  methods: 
    - "equal_weight"
    - "ic_weight" 
    - "lgb"
  lookback_window: 252
  train_test_split: 0.7
  
  # LightGBMå‚æ•°
  lgb_params:
    objective: "regression"
    metric: "rmse"
    boosting_type: "gbdt"
    num_leaves: 31
    learning_rate: 0.05
    feature_fraction: 0.9
    bagging_fraction: 0.8
    bagging_freq: 5
    verbose: -1

# å¹¶è¡Œè®¡ç®—é…ç½®
parallel:
  n_jobs: 4
  use_multiprocessing: true

# Universeè´¨é‡ç­›é€‰é…ç½®
universe_filter:
  enabled: true  # æ˜¯å¦å¯ç”¨è‡ªåŠ¨ç­›é€‰
  min_coverage_rate: 0.7   # ğŸ”§ é™ä½åˆ°70%ï¼Œæ›´ç°å®çš„è¦æ±‚
  min_close_coverage: 0.8  # ğŸ”§ é™ä½åˆ°80%ï¼Œå¹³è¡¡è´¨é‡å’Œæ•°é‡
  min_trading_days: 100    # æœ€å°‘äº¤æ˜“å¤©æ•°
  max_universe_size: 500   # æœ€å¤§æ ‡çš„æ•°é‡
  auto_update_days: 7      # è‡ªåŠ¨æ›´æ–°é—´éš”ï¼ˆå¤©ï¼‰
